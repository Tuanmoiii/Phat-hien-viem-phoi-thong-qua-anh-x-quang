<h1 align="center">PHÃT HIá»†N Bá»†NH VIÃŠM PHá»”I THÃ”NG QUA áº¢NH CHá»¤P X-QUANG</h1>

<div align="center">

<p align="center">
  <img src="./anhimage/logodnu.webp" alt="DaiNam University Logo" width="200"/>
    <img src="./anhimage/LogoAIoTLab.png" alt="AIoTLab Logo" width="170"/>
</p>

[![Made by AIoTLab](https://img.shields.io/badge/Made%20by%20AIoTLab-blue?style=for-the-badge)](https://www.facebook.com/DNUAIoTLab)
[![Fit DNU](https://img.shields.io/badge/Fit%20DNU-green?style=for-the-badge)](https://fitdnu.net/)
[![DaiNam University](https://img.shields.io/badge/DaiNam%20University-red?style=for-the-badge)](https://dainam.edu.vn)
</div>

<h2 align="center">Sá»­ dá»¥ng mÃ´ hÃ¬nh DenseNet121 phÃ¡t hiá»‡n bá»‡nh viÃªm phá»•i qua áº£nh x-quang</h2>

<p align="left">
Sá»­ dá»¥ng DenseNet121 phÃ¡t hiá»‡n bá»‡nh viÃªm phá»•i qua áº£nh x-quang lÃ  á»©ng dá»¥ng cá»§a AI trong lÄ©nh vá»±c y táº¿. DenseNet121 Ä‘Æ°á»£c á»©ng dá»¥ng rá»™ng rÃ£i trong phÃ¢n loáº¡i áº£nh y táº¿, giÃºp Ä‘Æ°a ra phÃ¡n Ä‘oÃ¡n vá» tá»· lá»‡ máº¯c bá»‡nh viÃªm phá»•i má»™t cÃ¡ch nhanh vÃ  chÃ­nh xÃ¡c. Viá»‡c váº­n tá»‘t dá»¥ng mÃ´ hÃ¬nh nÃ y giÃºp giáº£m thiá»ƒu chi phÃ­ khÃ¡m chá»¯a bá»‡nh, nhanh chÃ³ng xÃ¡c nháº­n Ä‘Æ°á»£c tÃ¬nh tráº¡ng bá»‡nh
</p>

---

## ğŸŒŸ Giá»›i thiá»‡u
-Khi Ä‘Æ°a dá»¯ liá»‡u áº£nh x-quang vÃ o mÃ´ hÃ¬nh sáº½ tráº£ vá» káº¿t quáº£ dá»± Ä‘oÃ¡n ngÆ°á»i Ä‘Ã³ cÃ³ máº¯c bá»‡nh viÃªm phá»•i khÃ´ng
<br>
-Cháº¯c cháº¯n ráº±ng khÃ´ng thá»ƒ nÃ o Ä‘Ãºng Ä‘Æ°á»£c 100% vÃ  cÅ©ng váº«n sáº½ cÃ³ lá»—i xáº£y ra
---
## ğŸ—ï¸ Há»† THá»NG
<p align="center">
  <img src="./anhimage/cbyolov7" alt="System Architecture" width="800"/>
</p>

---


## ğŸ› ï¸ CÃ”NG NGHá»† Sá»¬ Dá»¤NG

<div align="center">

<p align="center">
  <img src="./anhimage/cnyolov7.avif" alt="System Architecture" width="800"/>
</p>
</div>

##  YÃªu cáº§u há»‡ thá»‘ng

-CÃ³ thá»ƒ sá»­ dá»¥ng Visual náº¿u mÃ¡y Ä‘á»§ khoáº» 
<br>
or
<br>
-Sá»­ dá»¥ng <a href="https://colab.google/" target="_blank">Colab</a> cho nhanh

## ğŸš€ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t vÃ  cháº¡y


 <h2>BÆ°á»›c 1: Thu tháº­p dá»¯ liá»‡u</h2>
    <p>Thu tháº­p dá»¯ liá»‡u cÃ¡c hÃ¬nh áº£nh x-quang ngá»±c tá»« cÃ¡c bá»‡nh viá»‡n</p>
    <h2>BÆ°á»›c 2: GÃ¡n nhÃ£n dá»¯ liá»‡u</h2>
    <p>Chia dá»¯ liá»‡u ra lÃ m 2 lá»›p Normal vÃ  Pneumonia</p>
   <p>Dataset </p> <a href="https://www.kaggle.com/datasets/paultimothymooney/chest-xray-pneumonia" target="_blank">Táº¡i ÄÃ¢y</a> 
    <h2>BÆ°á»›c 3: Upload file lÃªn Google Drive</h2>
    <p>Äá»ƒ táº£i dá»¯ liá»‡u lÃªn Google Drive, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng giao diá»‡n web hoáº·c API.</p>
    <h2>BÆ°á»›c 4: VÃ o Colab Ä‘á»ƒ Train</h2>
    <p>Truy cáº­p vÃ o Google Colab Ä‘á»ƒ thá»±c hiá»‡n huáº¥n luyá»‡n mÃ´ hÃ¬nh DenseNet121.</p>
    <h2>BÆ°á»›c 5: LiÃªn káº¿t Colab vá»›i Google Drive</h2>
    <p>Trong Google Colab, sá»­ dá»¥ng lá»‡nh sau Ä‘á»ƒ gáº¯n káº¿t Google Drive:</p>
    <pre><code>from google.colab import drive
drive.mount('/content/drive')</code></pre>
    <h2>BÆ°á»›c 6: Táº£i cÃ¡c thÆ° viá»‡n cáº§n thiáº¿t</h2>
    <p>Sá»­ dá»¥ng cÃ¡c lá»‡nh sau Ä‘á»ƒ cÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n cáº§n thiáº¿t:</p>
    <pre><code>
      
!pip install tensorflow
!pip install numpy
!pip install opencv-python
!pip install matplotlib
</code></pre>
<br>
    <h2>BÆ°á»›c 7: Lá»±a chá»n mÃ´ hÃ¬nh DenseNet121</h2>
    <p>Chá»n mÃ´ hÃ¬nh DenseNet lÃ m mÃ´ hÃ¬nh ná»n táº£ng</p>
    <pre><code>
    base_model = DenseNet121(weights='imagenet', include_top=False, input_shape=(224, 224, 3))
model = build_model(base_model)
    </code></pre>
<br>
    <h2>BÆ°á»›c 8: Huáº¥n luyá»‡n mÃ´ hÃ¬nh</h2>
    <p>Sá»­ dá»¥ng lá»‡nh sau Ä‘á»ƒ huáº¥n luyá»‡n mÃ´ hÃ¬nh DenseNet121:</p>
```bash
early_stop = EarlyStopping(monitor='val_loss', patience=5, restore_best_weights=True)
reduce_lr = ReduceLROnPlateau(monitor='val_loss', factor=0.5, patience=3, verbose=1, min_lr=1e-7)

history = model.fit(
    train_generator,
    validation_data=val_generator,
    epochs=20,
    callbacks=[early_stop, reduce_lr]
)
```
    <h2>BÆ°á»›c 9: Thiáº¿t láº­p cáº¥u hÃ¬nh Grad-Cam cho mÃ´ hÃ¬nh</h2>

<p>Sá»­ dá»¥ng lá»‡nh sau Ä‘á»ƒ thiáº¿t láº­p cáº¥u hÃ¬nh Grad-Cam:<p>

```bash
def grad_cam(model, img_array, layer_name):
    grad_model = Model([model.inputs], [model.get_layer(layer_name).output, model.output])
    with tf.GradientTape() as tape:
        conv_output, predictions = grad_model(img_array)
        loss = predictions[:, 0]
    grads = tape.gradient(loss, conv_output)
    pooled_grads = tf.reduce_mean(grads, axis=(0, 1, 2))
    heatmap = conv_output[0] @ pooled_grads[..., tf.newaxis]
    heatmap = tf.squeeze(heatmap)
    heatmap = tf.maximum(heatmap, 0) / tf.math.reduce_max(heatmap)
    return heatmap.numpy()
```

  ##  BÆ°á»›c 10: Nháº­n diá»‡n hÃ nh vi qua video</h2>
  
Cháº¡y mÃ´ hÃ¬nh YOLOv7 Ä‘á»ƒ nháº­n diá»‡n hÃ nh vi trong video
    
```bash
  import subprocess
  cmd = ["python3", "/content/yolov7/detect.py", 
        "--weights", "/content/drive/MyDrive/BTL_AII/Yolo7_BTL/weights/best.pt", 
       "--source", "/content/drive/MyDrive/Capcut/1.MOV", 
       "--img-size", "640", 
       "--conf-thres", "0.1", 
       "--save-txt", "--save-conf", 
       "--project", "cháº¡y/phÃ¡t hiá»‡n", 
       "--name", "detect_output", 
       "--exist-ok"]
result = subprocess.run(cmd, capture_output=True, text=True)
print(result.stdout)
print(result.stderr)
```



## ğŸ¤ ÄÃ³ng gÃ³p
Dá»± Ã¡n Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi 3 thÃ nh viÃªn:

| Há» vÃ  TÃªn                | Vai trÃ²                  |
|--------------------------|--------------------------|
| BÃ¹i Quang Tuáº¥n              | PhÃ¡t triá»ƒn toÃ n bá»™ mÃ£ nguá»“n,kiá»ƒm thá»­, triá»ƒn khai dá»± Ã¡n vÃ  thá»±c hiá»‡n video giá»›i thiá»‡u,biÃªn                              soáº¡n tÃ i liá»‡u Overleaf ,Powerpoint, thuyáº¿t trÃ¬nh, Ä‘á» xuáº¥t cáº£i tiáº¿n.|
| HÃ  Tiáº¿n Äáº¡t             | Há»— trá»£ bÃ i táº­p lá»›n.|
| Nguyá»…n VÄƒn Báº£o Ngá»c    | Há»— trá»£ bÃ i táº­p lá»›n.  |

Â© 2025 NHÃ“M 7, CNTT 17-15, TRÆ¯á»œNG Äáº I Há»ŒC Äáº I NAM
